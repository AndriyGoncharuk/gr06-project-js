import{S as h,N as y,A as w,i as p}from"./assets/vendor-7d699f15.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const a={menuText:document.querySelector(".header-menu-text"),menuList:document.querySelector(".header-menu-list"),btnMob:document.querySelector(".header-btn-mob"),headerBackdrop:document.querySelector(".header-backdrop"),headerModalClose:document.querySelector(".header-modal-menu-close"),headerModalMenu:document.querySelector(".header-modal-menu"),btnTop:document.querySelector(".go-to-top")};a.menuText.addEventListener("click",L);function L(){a.menuList.classList.contains("is-open")?a.menuList.classList.remove("is-open"):a.menuList.classList.add("is-open")}a.btnMob.addEventListener("click",S);a.headerModalMenu.addEventListener("click",k);function S(){a.headerBackdrop.classList.add("is-open")}function k(r){r.target.nodeName!=="DIV"&&a.headerBackdrop.classList.remove("is-open")}a.btnTop.addEventListener("click",q);window.addEventListener("scroll",C);function C(){const r=window.scrollY;document.documentElement.clientHeight<r?a.btnTop.classList.add("is-open"):a.btnTop.classList.remove("is-open")}function q(){window.scrollTo({top:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".ac-trigger").forEach(n=>{n.addEventListener("click",function(){const s=this.closest(".faq-item"),l=s.querySelector(".ac-panel"),e=s.querySelector(".icon-answer use");s.classList.contains("is-active")?(s.classList.remove("is-active"),l.style.height="0",e.setAttribute("href","../img/symbol-defs.svg#icon-down")):(s.classList.add("is-active"),l.style.height=l.scrollHeight+"px",e.setAttribute("href","../img/symbol-defs.svg#icon-up"))})})});const u=document.querySelector(".reviews-section");if(u){let e=function(c){return c.map(d=>`
    <li class="reviews-card swiper-slide">
        <img class="reviews-card-img" src="${d.avatar_url}" alt="${d.author}'s avatar">
        <div class="reviews-card-data">
          <h3 class="reviews-card-name">${d.author}</h3>
          <p class="review-text">${d.review}</p>
        </div>
      </li>
  `).join("")};const r=u.querySelector(".reviews-cards"),n=u.querySelector(".reviews-btn-prev"),s=u.querySelector(".reviews-btn-next");async function l(){const v="https://portfolio-js.b.goit.study/api"+"/reviews";try{const i=await fetch(v);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const m=await i.json();return console.log("Fetched data:",m),m}catch(i){return console.error("Fetch error:",i),p.error({position:"topRight",message:"Not Found"}),[]}}async function t(){try{const c=await l();if(c.length>0){const d=e(c);r.insertAdjacentHTML("beforeend",d);const v=new h(u.querySelector(".swiper"),{modules:[y,w],breakpoints:{320:{slidesPerView:1,loop:!1},768:{slidesPerView:2,spaceBetween:16,loop:!1},1440:{slidesPerView:4,spaceBetween:16,loop:!1}},autoplay:{delay:3e3,disableOnInteraction:!0,pauseOnMouseEnter:!0},keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},navigation:{nextEl:".reviews-btn-next",prevEl:".reviews-btn-prev"}});document.addEventListener("keydown",i=>{if(i.key==="ArrowRight")v.slideNext();else if(i.key==="ArrowLeft")v.slidePrev();else if(i.key==="Tab"){const m=document.activeElement;m===n?(i.preventDefault(),s.focus()):m===s&&(i.preventDefault(),n.focus())}})}else console.log("No reviews to display")}catch(c){console.error("Render error:",c),p.error({position:"topRight",message:"Failed to load reviews"})}}t()}document.addEventListener("DOMContentLoaded",function(){new h(".projects-swiper-container",{modules:[y,w],loop:!0,navigation:{nextEl:".projects-button-next",prevEl:".projects-button-prev"},autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},slidesPerView:1,spaceBetween:20,breakpoints:{1440:{slidesPerView:1,spaceBetween:30},768:{slidesPerView:1,spaceBetween:20}}}).slideNext()});const f="/gr06-project-js/assets/icon-error-40fa32d5.svg",o={contactForm:document.querySelector(".footer-form"),email:document.getElementById("user-email"),comments:document.getElementById("user-comment"),backdropEl:document.querySelector(".footer-backdrop"),modalEl:document.querySelector(".modal"),closeModalBtnEl:document.querySelector(".close-btn"),modalTitleEl:document.querySelector(".modal-title"),modalMessageEl:document.querySelector(".modal-message")};document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded event fired");const r=localStorage.getItem("email"),n=localStorage.getItem("comment");console.log("Saved email:",r),console.log("Saved comment:",n),r&&(o.email.value=r),n&&(o.comments.value=n)});o.email.addEventListener("input",()=>{console.log("Email input event:",o.email.value),localStorage.setItem("email",o.email.value)});o.comments.addEventListener("input",()=>{console.log("Comments input event:",o.comments.value),localStorage.setItem("comment",o.comments.value)});o.contactForm.addEventListener("submit",async function(r){r.preventDefault();const n=o.email.value,s=o.comments.value;if(console.log("Form submitted with email:",n),console.log("Form submitted with comments:",s),!n||!s){p.error({title:"Error!",titleSize:"16",titleColor:"var(--main-text-color)",message:"Please fill in both fields",messageSize:"16",messageColor:"var(--main-text-color)",backgroundColor:"var(--accent-color)",theme:"dark",position:"center",closeOnEscape:!0,closeOnClick:!0,iconUrl:f});return}const l={email:n,comment:s};try{const t=await(await fetch("https://portfolio-js.b.goit.study/api/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();console.log("Response data:",t),t.error?p.error({title:"Error!",titleSize:"16",titleColor:"var(--main-text-color)",message:`${t.error}`,messageSize:"16",messageColor:"var(--main-text-color)",backgroundColor:"var(--accent-color)",theme:"dark",position:"bottomCenter",closeOnEscape:!0,closeOnClick:!0,iconUrl:f}):(o.contactForm.reset(),localStorage.removeItem("email"),localStorage.removeItem("comment")),o.modalTitleEl.textContent=t.title,o.modalMessageEl.textContent=t.message,M()}catch(e){console.error("Error:",e),p.error({title:"Error!",titleSize:"16",titleColor:"var(--main-text-color)",message:`${e.message}`,messageSize:"16",messageColor:"var(--main-text-color)",backgroundColor:"var(--accent-color)",theme:"dark",position:"bottomCenter",closeOnEscape:!0,closeOnClick:!0,iconUrl:f})}});function M(){o.backdropEl.classList.add("is-open"),O()}function g(){o.backdropEl.classList.remove("is-open"),x()}function O(){document.addEventListener("keydown",E),document.addEventListener("click",b)}function x(){document.removeEventListener("keydown",E),document.removeEventListener("click",b)}function E(r){r.key==="Escape"&&o.backdropEl.classList.contains("is-open")&&g()}function b(r){r.composedPath().includes(o.modalEl)||g()}o.closeModalBtnEl.addEventListener("click",g);
//# sourceMappingURL=commonHelpers.js.map
